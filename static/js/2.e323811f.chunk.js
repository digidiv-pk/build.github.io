(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[2],{1007:function(e,t,a){e.exports={center:"Pagination_center__2LazJ",pagination:"Pagination_pagination__1Qtuh",active:"Pagination_active__bZfgF",disable:"Pagination_disable__1oyWI",dot:"Pagination_dot__3VdZw"}},1110:function(e,t,a){"use strict";a.r(t);var n=a(90),o=a(226),r=a(227),c=a(956),i=a(955),l=a(957),s=a(0),u=a.n(s),d=a(786),m=a(18),g=a(9),p=a(2),h=a(396),f=a(912),b=a(67),v=Object(h.a)((function(){return{root:{}}})),y=function(e){var t=e.className,a=Object(g.a)(e,["className"]),n=v();return u.a.createElement("div",Object.assign({},a,{className:Object(p.a)(n.root,t)}),u.a.createElement(f.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3},u.a.createElement(f.a,{item:!0},u.a.createElement(b.a,{component:"h2",gutterBottom:!0,variant:"overline"},"Operation Region"),u.a.createElement(b.a,{component:"h1",variant:"h3"},"Operation Regions List"))))},O=a(15),E=a(19),j=a(37),P=a.n(j),k=a(1007),_=a.n(k),C=function(e){var t=function(e,t){var a=e-2,n=e+2+1,o=[],r=null;return Array(t).fill(1).map((function(e,o){var r=e+o;return 1===r||r===t||r>=a&&r<n?r:null})).filter((function(e){if(e)return r&&(e-r===2?o.push(r+1):e-r!==1&&o.push("...")),r=e,o.push(e),e})),o}(e.page,e.pages).map((function(t){return t===e.page?u.a.createElement("li",{className:_.a.active},t):"..."===t?u.a.createElement("li",{className:_.a.dot},t):u.a.createElement("li",{onClick:function(a){return e.onChangePage(a,t)}},t)})),a=null,n=null;return n=e.page<e.pages?u.a.createElement("li",{onClick:e.onNextPage},"\xbb"):u.a.createElement("li",{className:_.a.disable},"\xbb"),a=e.page>1?u.a.createElement("li",{onClick:e.onPrevPage},"\xab"):u.a.createElement("li",{className:_.a.disable},"\xab"),u.a.createElement("div",{className:_.a.center},u.a.createElement("ul",{className:_.a.pagination},a,t,n))},S=a(6),R=a(900),N=a(893),x=a(907),w=a(897),B=a(894),L=a(939),M=a(943),U=a(941),D=a(942),A=a(959),I=a(940),z=a(899),V=a(908),H=a(11),$=Object(h.a)((function(e){return{root:{},content:{padding:0},inner:{minWidth:700},nameCell:{display:"flex",alignItems:"center"},avatar:{height:42,width:42,marginRight:e.spacing(1)},actions:{padding:e.spacing(1),justifyContent:"flex-end"},dangerButton:{marginRight:e.spacing(1),color:S.a.red[600],borderColor:S.a.red[600],"&:hover":{borderColor:S.a.red[900],color:S.a.red[900]}},primaryButton:{marginRight:e.spacing(1),color:S.a.blue[600],borderColor:S.a.blue[600],"&:hover":{borderColor:S.a.blue[900],color:S.a.blue[900]}},successButton:{marginRight:e.spacing(1),color:S.a.green[600],borderColor:S.a.green[600],"&:hover":{borderColor:S.a.green[900],color:S.a.green[900]}}}})),J=function(e){var t=e.className,a=e.count,n=e.page,o=e.pages,r=e.limit,c=e.regions,i=Object(g.a)(e,["className","count","page","pages","limit","regions"]),l=$(),d=Object(s.useState)([]),m=Object(O.a)(d,2),h=m[0],f=m[1],v={onUpdate:function(){e.onSelect("update",h[0])},onDelete:function(){e.onSelect("delete",h[0]),f([])}},y={update:u.a.createElement(R.a,{className:l.primaryButton,color:"primary",onClick:v.onUpdate,size:"small",type:"submit",variant:"outlined"},"Update"),delete:u.a.createElement(R.a,{className:l.dangerButton,color:"primary",onClick:v.onDelete,size:"small",type:"submit",variant:"outlined"},"Delete")},j=null;return 1===h.length&&(j=u.a.createElement(u.a.Fragment,null,y.update,y.delete)),u.a.createElement("div",Object.assign({},i,{className:Object(p.a)(l.root,t)}),u.a.createElement(b.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},a," Records found. Page ",e.page," of ",o),u.a.createElement(N.a,null,u.a.createElement(x.a,{action:j,title:"All Operation Regions"}),u.a.createElement(w.a,null),u.a.createElement(B.a,{className:l.content},u.a.createElement(P.a,null,u.a.createElement("div",{className:l.inner},u.a.createElement(L.a,null,u.a.createElement(M.a,null,u.a.createElement(U.a,null,u.a.createElement(D.a,{padding:"checkbox"},u.a.createElement(A.a,{checked:h.length===c.length,color:"primary",indeterminate:h.length>0&&h.length<c.length,onChange:function(e){var t=e.target.checked?c.map((function(e){return e.title})):[];f(t)}})),u.a.createElement(D.a,null,"Description"),u.a.createElement(D.a,null,"Radius"),u.a.createElement(D.a,null,"Search Radius"),u.a.createElement(D.a,null,"Latitide"),u.a.createElement(D.a,null,"Longitude"))),u.a.createElement(I.a,null,c.map((function(e){return u.a.createElement(U.a,{hover:!0,key:e.title,selected:-1!==h.indexOf(e.title)},u.a.createElement(D.a,{padding:"checkbox"},u.a.createElement(A.a,{checked:-1!==h.indexOf(e.title),color:"primary",onChange:function(t){return function(e,t){var a=h.indexOf(t),n=[];-1===a?n=n.concat(h,t):0===a?n=n.concat(h.slice(1)):a===h.length-1?n=n.concat(h.slice(0,-1)):a>0&&(n=n.concat(h.slice(0,a),h.slice(a+1))),f(n)}(0,e.title)},value:-1!==h.indexOf(e.title)})),u.a.createElement(D.a,null,u.a.createElement("div",{className:l.nameCell},u.a.createElement("div",null,u.a.createElement(z.a,{color:"inherit",component:E.a,to:H.e.operationRegions.update.get_absolute_url(e.title),variant:"h6"},e.description),u.a.createElement("div",null,e.center.latitide,","," ",e.center.longitude)))),u.a.createElement(D.a,null,e.radius," Km"),u.a.createElement(D.a,null,e.searchRadius," Km"),u.a.createElement(D.a,null,e.center.latitide),u.a.createElement(D.a,null,e.center.longitude))}))))))),1!==o&&u.a.createElement(V.a,{className:l.actions},u.a.createElement(C,{count:a,limit:r,onChangePage:e.onPageChange,onNextPage:e.onNextChange,onPrevPage:e.onPrevChange,page:n,pages:o}))))};J.defaultProps={users:[]};var T=J,W=a(69),F=a(966),K=a(36),Z=a(967),Q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={regions:null,page:0,offset:0,limit:10,pages:0,count:0},a.changePageUrl=function(e){var t=a.props.history,n=H.e.operationRegions.listPage.get_absolute_url(e);t.push(n)},a.handlePageChange=function(e,t){var n=(t-1)*a.state.limit;a.setState({page:t,offset:n}),a.changePageUrl(t)},a.handleNextPage=function(){var e=a.state.page+1,t=(e-1)*a.state.limit;a.setState({page:e,offset:t}),a.changePageUrl(e)},a.handlePrevPage=function(){var e=a.state.page-1,t=(e-1)*a.state.limit;a.setState({page:e,offset:t}),a.changePageUrl(e)},a.handleMenuSelect=function(e,t){var n=a.props.history;"delete"===e?(Z.a.deleteRegion({state:a.state,setState:function(e){return a.setState(e)},headers:a.props.auth.headers,id:t}),console.log("Deleted",t)):"update"===e&&n.push(H.e.operationRegions.update.get_absolute_url(t))},a.loading=function(){var e=[];e.push(u.a.createElement(F.a,{variant:"text",width:150}));var t=Array(a.state.limit).fill(1).map((function(e){return u.a.createElement(F.a,{height:50,variant:"text"})}));return[].concat(e,Object(n.a)(t))},a.results=function(){var e=a.props.classes;return a.state.regions?u.a.createElement("div",null,u.a.createElement(T,{className:e.results,count:a.state.count,limit:a.state.limit,onMenuClick:a.handleMenuClick,onNextChange:a.handleNextPage,onPageChange:a.handlePageChange,onPrevChange:a.handlePrevPage,onSelect:a.handleMenuSelect,page:a.state.page,pages:a.state.pages,regions:a.state.regions})):a.loading()},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.page,t=e?Number(e):1;if(t){var a=(t-1)*this.state.limit;this.setState({page:t,offset:a})}this.state.regions||1!==t||this.onRegionsList(this.state)}},{key:"componentWillUpdate",value:function(e,t){this.state.page!==t.page&&this.state.offset!==t.offset&&(console.log(t),this.onRegionsList(t))}},{key:"onRegionsList",value:function(e){var t=this;Z.a.getRegionsList({state:e,setState:function(e){return t.setState(e)},headers:this.props.auth.headers})}},{key:"render",value:function(){var e=this.props.classes;return u.a.createElement(m.j,{className:e.root,title:"Operation Regions List"},u.a.createElement(y,null),this.results())}}]),t}(s.PureComponent),q=Object(K.g)(Object(W.b)((function(e){return{auth:e.session.authentication}}))(Object(d.a)((function(e){return{root:{padding:e.spacing(3)},results:{marginTop:e.spacing(3)}}}))(Q)));a.d(t,"default",(function(){return q}))},955:function(e,t,a){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}a.d(t,"a",(function(){return n}))},956:function(e,t,a){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function r(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}a.d(t,"a",(function(){return r}))},957:function(e,t,a){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}a.d(t,"a",(function(){return o}))},959:function(e,t,a){"use strict";var n=a(1),o=a(4),r=a(0),c=a.n(r),i=(a(7),a(2)),l=a(228),s=a(68),u=Object(s.a)(c.a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),d=Object(s.a)(c.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),m=a(14),g=Object(s.a)(c.a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),p=a(10),h=a(8),f=c.a.createElement(d,null),b=c.a.createElement(u,null),v=c.a.createElement(g,null),y=c.a.forwardRef((function(e,t){var a=e.checkedIcon,r=void 0===a?f:a,s=e.classes,u=e.color,d=void 0===u?"secondary":u,m=e.icon,g=void 0===m?b:m,h=e.indeterminate,y=void 0!==h&&h,O=e.indeterminateIcon,E=void 0===O?v:O,j=e.inputProps,P=Object(o.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps"]);return c.a.createElement(l.a,Object(n.a)({type:"checkbox",checkedIcon:y?E:r,classes:{root:Object(i.a)(s.root,s["color".concat(Object(p.a)(d))],y&&s.indeterminate),checked:s.checked,disabled:s.disabled},color:d,inputProps:Object(n.a)({"data-indeterminate":y},j),icon:y?E:g,ref:t},P))}));t.a=Object(h.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(m.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(m.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(y)},966:function(e,t,a){"use strict";var n=a(1),o=a(4),r=a(0),c=a.n(r),i=a(2),l=(a(7),a(8)),s=c.a.forwardRef((function(e,t){var a=e.classes,r=e.className,l=e.component,s=void 0===l?"div":l,u=e.disableAnimate,d=void 0!==u&&u,m=e.height,g=e.variant,p=void 0===g?"text":g,h=e.width,f=Object(o.a)(e,["classes","className","component","disableAnimate","height","variant","width"]);return c.a.createElement(s,Object(n.a)({ref:t,className:Object(i.a)(a.root,a[p],r,!d&&a.animate)},f,{style:Object(n.a)({width:h,height:m},f.style)}))}));t.a=Object(l.a)((function(e){return{root:{display:"block",backgroundColor:e.palette.action.hover,height:"1.2em"},text:{marginTop:"0.8em",marginBottom:"0.8em",borderRadius:e.shape.borderRadius},rect:{},circle:{borderRadius:"50%"},animate:{animation:"$animate 1.5s ease-in-out infinite"},"@keyframes animate":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}}}}),{name:"MuiSkeleton"})(s)},967:function(e,t,a){"use strict";var n=a(15),o=a(13),r=a(226),c=a(227),i=a(11);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"getRegionsList",value:function(e){var t=e.state,a=e.setState,o=e.headers;Promise.all([Object(i.b)({method:i.a.regions.count.method,url:i.a.regions.count.url,headers:o}),Object(i.b)({method:i.a.regions.get.method,url:i.a.regions.get.url,params:{filter:{where:{},fields:{title:!0,radius:!0,center:!0,description:!0,searchRadius:!0},offset:t.offset,limit:t.limit,skip:t.offset}},headers:s({},o)})]).then((function(e){var o=Object(n.a)(e,2),r=o[0],c=o[1];a({count:r.data.count,regions:c.data,pages:Math.ceil(r.data.count/t.limit)}),console.log(r.data.count,c.data)})).catch((function(e){var t=Object(n.a)(e,2),a=t[0],o=t[1];console.log(a.response,o.response)}))}},{key:"createRegion",value:function(e){var t=e.data,a=e.headers,n=e.defaultConfig,o=e.setConfig,r=e.defaultValues,c=e.setValues,l={method:i.a.regions.post.method,url:i.a.regions.post.url,data:t,headers:a};Object(i.b)(l).then((function(e){console.log("Success",e.data),o(n),c(r)})).catch((function(e){console.log("Error",e.response,e)}))}},{key:"deleteRegion",value:function(e){var t=e.state,a=e.setState,n=e.headers,o=e.id,r={method:i.a.regions.delete_by_id.method,url:i.a.regions.delete_by_id.getAbsoluteUrl(o),headers:n};Object(i.b)(r).then((function(e){console.log("Success",e.data),function(e){var n=t.regions.filter((function(t){return t.title!==e}));a({regions:n})}(o)})).catch((function(e){console.log("Error",e.response,e)}))}},{key:"getRegion",value:function(e){var t=e.id,a=e.headers,n=e.success,o=e.error,r={method:i.a.regions.get_by_id.method,url:i.a.regions.get_by_id.getAbsoluteUrl(t),headers:a};Object(i.b)(r).then((function(e){console.log("Success",e.data),n(e.data)})).catch((function(e){o(e),console.log("Error",e.response,e)}))}},{key:"updateRegion",value:function(e){var t=e.id,a=e.data,n=e.headers,o=e.success,r=e.error,c={method:i.a.regions.patch_by_id.method,url:i.a.regions.patch_by_id.getAbsoluteUrl(t),headers:n,data:a};Object(i.b)(c).then((function(e){o(e.data)})).catch((function(e){r(e)}))}}]),e}();a.d(t,"a",(function(){return u}))}}]);
//# sourceMappingURL=2.e323811f.chunk.js.map