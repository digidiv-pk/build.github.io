(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[44],{1124:function(e,t,a){"use strict";a.r(t);var n=a(90),r=a(13),i=a(226),s=a(227),l=a(956),c=a(955),o=a(957),u=a(0),p=a.n(u),m=a(69),d=a(786),g=a(20),h=a(893),E=a(907),y=a(897),v=a(894),b=a(892),f=a(1131),C=a(1088),O=a(67),P=a(1090),x=a(912),w=a(1089),j=a(37),k=a.n(j),A=a(984),H=a(914),S=a(938),W=a(908),T=a(900),D=a(11);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={values:Object(),Snackbar:{open:!1,message:"I love snacks"}},a.inputChangeHandler=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;/^\d+$/.test(e.target.value)&&(-1===i?(n=$({},a.state.values,Object(r.a)({},e.target.name,Number(e.target.value))),a.setState({values:n})):(t=a.state.values.specialTimeExtras.map((function(t,a){return a===i?$({},t,Object(r.a)({},e.target.name,Number(e.target.value))):t})),a.setState({values:$({},a.state.values,{specialTimeExtras:t})})))},a.submitHandler=function(e){var t;e.preventDefault();var n=$({},a.state.values);t={method:D.a.costing.put_by_id.method,url:D.a.costing.put_by_id.getAbsoluteUrl(n.id),data:n},Object(D.b)(t).then((function(e){console.log(e.data),a.setState({Snackbar:{open:!0,message:"Costing Updated Successfully"}})})).catch((function(e){console.log(e.response),a.setState({Snackbar:{open:!0,message:"Costing Failed To Update, Try Again"}})})),console.log(n)},a.getHours=function(e){var t=new Date(e);return t.getUTCHours()>=12?"".concat(t.getUTCHours()%12," PM"):"".concat(t.getUTCHours()," AM")},a.handleClose=function(e){var t=$({},a.state.Snackbar);a.setState({Snackbar:$({},t,{open:!1})})},a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({values:this.props.data})}},{key:"shouldComponentUpdate",value:function(e,t,a){return!0}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.data;return p.a.createElement(x.a,{container:!0,spacing:3},p.a.createElement(A.a,{anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,ContentProps:{"aria-describedby":"message-id"},key:"top,center",message:p.a.createElement("span",{id:"message-id"},this.state.Snackbar.message),onClose:this.handleClose,open:this.state.Snackbar.open}),p.a.createElement(x.a,{item:!0,lg:12},p.a.createElement(h.a,{className:a.cardMargin},p.a.createElement(O.a,{className:a.title,color:"textPrimary",gutterBottom:!0,variant:"subtitle2"},n.minQty===n.maxQty?"For ".concat(n.minQty," Car"):"For ".concat(n.minQty," - ").concat(n.maxQty," Cars")),p.a.createElement(y.a,null),p.a.createElement(v.a,{className:a.content},p.a.createElement(x.a,{container:!0,spacing:3},p.a.createElement(p.a.Fragment,null,this.state.values.hasOwnProperty("baseCost")&&p.a.createElement(x.a,{item:!0,lg:3},p.a.createElement(H.a,{fullWidth:!0,inputProps:{min:0},InputProps:{startAdornment:p.a.createElement(S.a,{position:"start"},"$")},label:"Base Cost",margin:"dense",name:"baseCost",onChange:this.inputChangeHandler,type:"number",value:this.state.values.baseCost,variant:"outlined"})),this.state.values.hasOwnProperty("weekEndOrHolydayExtra")&&p.a.createElement(x.a,{item:!0,lg:3},p.a.createElement(H.a,{fullWidth:!0,inputProps:{min:0},InputProps:{startAdornment:p.a.createElement(S.a,{position:"start"},"$")},label:"Weekend Or Holyday Extra",margin:"dense",name:"weekEndOrHolydayExtra",onChange:this.inputChangeHandler,type:"number",value:this.state.values.weekEndOrHolydayExtra,variant:"outlined"})),this.state.values.hasOwnProperty("perPickupExtra")&&p.a.createElement(x.a,{item:!0,lg:3},p.a.createElement(H.a,{fullWidth:!0,inputProps:{min:0},InputProps:{startAdornment:p.a.createElement(S.a,{position:"start"},"$")},label:"Per Pickup Extra",margin:"dense",name:"perPickupExtra",onChange:this.inputChangeHandler,type:"number",value:this.state.values.perPickupExtra,variant:"outlined"})),this.state.values.hasOwnProperty("winterPickupExtra")&&p.a.createElement(x.a,{item:!0,lg:3},p.a.createElement(H.a,{fullWidth:!0,inputProps:{min:0},InputProps:{startAdornment:p.a.createElement(S.a,{position:"start"},"$")},label:"Winter Pickup Extra",margin:"dense",name:"winterPickupExtra",onChange:this.inputChangeHandler,type:"number",value:this.state.values.winterPickupExtra,variant:"outlined"})),this.state.values.hasOwnProperty("perMile")&&p.a.createElement(x.a,{item:!0,lg:3},p.a.createElement(H.a,{fullWidth:!0,inputProps:{min:0},InputProps:{startAdornment:p.a.createElement(S.a,{position:"start"},"$")},label:"Per Mile",margin:"dense",name:"perMile",onChange:this.inputChangeHandler,type:"number",value:this.state.values.perMile,variant:"outlined"})),this.state.values.hasOwnProperty("newVehicleExtra")&&p.a.createElement(x.a,{item:!0,lg:3},p.a.createElement(H.a,{fullWidth:!0,inputProps:{min:0},InputProps:{startAdornment:p.a.createElement(S.a,{position:"start"},"$")},label:"New Vehicle Extra",margin:"dense",name:"newVehicleExtra",onChange:this.inputChangeHandler,type:"number",value:this.state.values.newVehicleExtra,variant:"outlined"})),this.state.values.hasOwnProperty("winchExtra")&&p.a.createElement(x.a,{item:!0,lg:3},p.a.createElement(H.a,{fullWidth:!0,inputProps:{min:0},InputProps:{startAdornment:p.a.createElement(S.a,{position:"start"},"$")},label:"Winch Call Extra",margin:"dense",name:"winchExtra",onChange:this.inputChangeHandler,type:"number",value:this.state.values.winchExtra,variant:"outlined"})),this.state.values.hasOwnProperty("winterExtra")&&p.a.createElement(x.a,{item:!0,lg:3},p.a.createElement(H.a,{fullWidth:!0,inputProps:{min:0},InputProps:{startAdornment:p.a.createElement(S.a,{position:"start"},"$")},label:"Winter Extra",margin:"dense",name:"winterExtra",onChange:this.inputChangeHandler,type:"number",value:this.state.values.winterExtra,variant:"outlined"})),this.state.values.hasOwnProperty("collusionWinterExtra")&&p.a.createElement(x.a,{item:!0,lg:3},p.a.createElement(H.a,{fullWidth:!0,inputProps:{min:0},InputProps:{startAdornment:p.a.createElement(S.a,{position:"start"},"$")},label:"Collusion Winter Extra",margin:"dense",name:"collusionWinterExtra",onChange:this.inputChangeHandler,type:"number",value:this.state.values.collusionWinterExtra,variant:"outlined"})),this.state.values.hasOwnProperty("collisionSceneExtra")&&p.a.createElement(x.a,{item:!0,lg:3},p.a.createElement(H.a,{fullWidth:!0,inputProps:{min:0},InputProps:{startAdornment:p.a.createElement(S.a,{position:"start"},"$")},label:"Collusion Scene Extra",margin:"dense",name:"collisionSceneExtra",onChange:this.inputChangeHandler,type:"number",value:this.state.values.collisionSceneExtra,variant:"outlined"})),this.state.values.hasOwnProperty("buyAverage")&&p.a.createElement(x.a,{item:!0,lg:3},p.a.createElement(H.a,{fullWidth:!0,inputProps:{min:0},InputProps:{startAdornment:p.a.createElement(S.a,{position:"start"},"$")},label:"Buy Average",margin:"dense",name:"buyAverage",onChange:this.inputChangeHandler,type:"number",value:this.state.values.buyAverage,variant:"outlined"})),this.state.values.hasOwnProperty("buyQuality")&&p.a.createElement(x.a,{item:!0,lg:3},p.a.createElement(H.a,{fullWidth:!0,inputProps:{min:0},InputProps:{startAdornment:p.a.createElement(S.a,{position:"start"},"$")},label:"Buy Quality",margin:"dense",name:"buyQuality",onChange:this.inputChangeHandler,type:"number",value:this.state.values.buyQuality,variant:"outlined"})),this.state.values.hasOwnProperty("gasolin")&&p.a.createElement(x.a,{item:!0,lg:3},p.a.createElement(H.a,{fullWidth:!0,inputProps:{min:0},InputProps:{startAdornment:p.a.createElement(S.a,{position:"start"},"$")},label:"Gasolin",margin:"dense",name:"gasolin",onChange:this.inputChangeHandler,type:"number",value:this.state.values.gasolin,variant:"outlined"})),this.state.values.hasOwnProperty("deisel")&&p.a.createElement(x.a,{item:!0,lg:3},p.a.createElement(H.a,{fullWidth:!0,inputProps:{min:0},InputProps:{startAdornment:p.a.createElement(S.a,{position:"start"},"$")},label:"Deisel",margin:"dense",name:"deisel",onChange:this.inputChangeHandler,type:"number",value:this.state.values.deisel,variant:"outlined"})),this.state.values.hasOwnProperty("specialTimeExtras")&&this.state.values.specialTimeExtras.map((function(t,a){return p.a.createElement(x.a,{item:!0,lg:3},p.a.createElement(H.a,{fullWidth:!0,inputProps:{min:0},InputProps:{startAdornment:p.a.createElement(S.a,{position:"start"},"$")},label:"Between ".concat(e.getHours(t.start)," -  ").concat(e.getHours(t.end)," Extra"),margin:"dense",name:"extra",onChange:function(t){return e.inputChangeHandler(t,a)},type:"number",value:t.extra,variant:"outlined"}))}))))),p.a.createElement(W.a,{className:a.cardAction},p.a.createElement(T.a,{className:a.cardButton,color:"primary",onClick:this.submitHandler,size:"small",variant:"contained"},"Update")))))}}]),t}(u.Component),B=Object(d.a)((function(e){return{content:{padding:e.spacing(1)},cardMargin:{margin:e.spacing(1)},button:{margin:e.spacing(1)},cardAction:{display:"flex"},cardButton:{marginLeft:"auto"},title:{fontSize:14,marginLeft:e.spacing(1),marginTop:e.spacing(1),fontWeight:"bolder"}}}))(N),M=a(966);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={list:Object(),expanded:{service:!1,category:!1,subCategory:!1,distance:!1}},a.handleExpandedChange=function(e,t){return function(n,r){var i=Q({},a.state.expanded);"service"===t?i=r?{service:e,category:!1,subCategory:!1,distance:!1}:{service:!1,category:!1,subCategory:!1,distance:!1}:"category"===t?i=Q({},i,r?{category:e,subCategory:!1,distance:!1}:{category:!1,subCategory:!1,distance:!1}):"subCategory"===t?i=Q({},i,r?{subCategory:e,distance:!1}:{subCategory:!1,distance:!1}):"distance"===t&&(i=Q({},i,r?{distance:e}:{distance:!1})),console.log(i),a.setState({expanded:i})}},a.inputChangeHandler=function(e,t){var n=Q({},a.state.list);n[t][e.target.name]=e.target.value,a.setState({list:n})},a.getServiceTitle=function(e){return{AutoVibration:"Auto Vibration",OilChange:"Oil Change",Tech_BadBattery:"Replace Battery",Tech_FlatTyre:"Flat Tire",Tech_GasRefill:"Fuel Refill",Tech_JumpStart:"Jump Start",Tech_Lockout:"Lockout of Vehicle",TowHaul:"Tow / Haul"}[e]},a.loading=function(){var e;return e=Array(10).fill(1).map((function(e){return p.a.createElement(M.a,{height:50,variant:"text"})})),[].concat([],Object(n.a)(e))},a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getCostingList()}},{key:"shouldComponentUpdate",value:function(e,t){if(this.props!==e){if(Array.isArray(e.list.data)){var a=Object();e.list.data.forEach((function(e){e.items.forEach((function(e){e.items.forEach((function(e){e.items.forEach((function(e){e.hasOwnProperty("items")?e.items.forEach((function(e){a[e.id]=e})):a[e.id]=e}))}))}))})),this.setState({list:a})}return!1}return console.log(t.expanded),!0}},{key:"render",value:function(){var e=this,t=this.props.classes;return p.a.createElement(h.a,null,p.a.createElement(E.a,{title:"Costing Tree View"}),p.a.createElement(y.a,null),p.a.createElement(v.a,{className:t.content},p.a.createElement(k.a,null,!this.props.list.data&&p.a.createElement(p.a.Fragment,null,p.a.createElement(b.a,null),this.loading()),this.props.list.data&&p.a.createElement("div",{className:t.inner},this.props.list.data.map((function(a){return p.a.createElement(f.a,{expanded:e.state.expanded.service===a.service,onChange:e.handleExpandedChange(a.service,"service")},p.a.createElement(C.a,{"aria-controls":"panel1a-content",expandIcon:p.a.createElement(w.a,null),id:"panel1a-header"},p.a.createElement(O.a,{className:t.heading},p.a.createElement("b",null,"Service:")," ",e.getServiceTitle(a.service))),p.a.createElement(P.a,null,e.state.expanded.service===a.service&&p.a.createElement(x.a,{container:!0,spacing:3},a.items.map((function(n){return p.a.createElement(x.a,{item:!0,lg:12},p.a.createElement(f.a,{expanded:e.state.expanded.category==="".concat(a.service,"-").concat(n.category),onChange:e.handleExpandedChange("".concat(a.service,"-").concat(n.category),"category")},p.a.createElement(C.a,{"aria-controls":"panel1a-content",expandIcon:p.a.createElement(w.a,null),id:"panel1a-header"},p.a.createElement(O.a,{className:t.heading},p.a.createElement("b",null,"Category:")," ",n.category)),p.a.createElement(P.a,null,e.state.expanded.category==="".concat(a.service,"-").concat(n.category)&&p.a.createElement(x.a,{container:!0,spacing:3},n.items.map((function(r){return p.a.createElement(x.a,{item:!0,lg:12},p.a.createElement(f.a,{expanded:e.state.expanded.subCategory==="".concat(a.service,"-").concat(n.category,"-").concat(r.subCategory),onChange:e.handleExpandedChange("".concat(a.service,"-").concat(n.category,"-").concat(r.subCategory),"subCategory")},p.a.createElement(C.a,{"aria-controls":"panel1a-content",expandIcon:p.a.createElement(w.a,null),id:"panel1a-header"},p.a.createElement(O.a,{className:t.heading},p.a.createElement("b",null,"Type:")," ",r.subCategory)),p.a.createElement(P.a,null,e.state.expanded.subCategory==="".concat(a.service,"-").concat(n.category,"-").concat(r.subCategory)&&p.a.createElement(x.a,{container:!0,spacing:3},r.items.map((function(i){if(i.hasOwnProperty("items")){var s="";return s=-1===i.maxDistance?i.minDistance?"Above ".concat(i.minDistance," miles"):"Long Range":"From ".concat(i.minDistance," to ").concat(i.maxDistance," miles"),p.a.createElement(x.a,{item:!0,lg:12},p.a.createElement(f.a,{expanded:e.state.expanded.distance==="".concat(a.service,"-").concat(n.category,"-").concat(r.subCategory,"-").concat(s),onChange:e.handleExpandedChange("".concat(a.service,"-").concat(n.category,"-").concat(r.subCategory,"-").concat(s),"distance")},p.a.createElement(C.a,{"aria-controls":"panel1a-content",expandIcon:p.a.createElement(w.a,null),id:"panel1a-header"},p.a.createElement(O.a,{className:t.heading},p.a.createElement("b",null,"Distance: "),s)),p.a.createElement(P.a,null,e.state.expanded.distance==="".concat(a.service,"-").concat(n.category,"-").concat(r.subCategory,"-").concat(s)&&p.a.createElement(x.a,{container:!0,spacing:3},i.items.map((function(e){return p.a.createElement(B,{data:e})}))))))}return p.a.createElement(B,{data:i})}))))))}))))))})))))}))))))}}]),t}(u.Component),_=Object(m.b)((function(e){return{list:e.costing.list}}),(function(e){return{getCostingList:function(){return e(g.f())}}}))(Object(d.a)((function(e){return{root:{height:216,flexGrow:1,maxWidth:400},content:{padding:e.spacing(1)},inner:{minWidth:700,margin:e.spacing(1)},margin:{margin:e.spacing(1)}}}))(U));a.d(t,"default",(function(){return _}))}}]);
//# sourceMappingURL=44.89d35efc.chunk.js.map