(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[4],{1008:function(e,t,a){e.exports={center:"Pagination_center__3af7l",pagination:"Pagination_pagination__2u3TS",active:"Pagination_active__2tEZG",disable:"Pagination_disable__35hJU",dot:"Pagination_dot__eryjy"}},1111:function(e,t,a){"use strict";a.r(t);var n=a(90),r=a(226),o=a(227),l=a(956),i=a(955),c=a(957),s=a(0),u=a.n(s),m=a(786),g=a(18),p=a(9),d=a(2),f=a(396),b=a(912),h=a(67),v=Object(f.a)((function(){return{root:{}}})),y=function(e){var t=e.className,a=Object(p.a)(e,["className"]),n=v();return u.a.createElement("div",Object.assign({},a,{className:Object(d.a)(n.root,t)}),u.a.createElement(b.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3},u.a.createElement(b.a,{item:!0},u.a.createElement(h.a,{component:"h2",gutterBottom:!0,variant:"overline"},"Brokerage"),u.a.createElement(h.a,{component:"h1",variant:"h3"},"Brokerage List"))))},E=a(15),O=a(19),j=a(37),P=a.n(j),k=a(1008),N=a.n(k),S=function(e){var t=function(e,t){var a=e-2,n=e+2+1,r=[],o=null;return Array(t).fill(1).map((function(e,r){var o=e+r;return 1===o||o===t||o>=a&&o<n?o:null})).filter((function(e){if(e)return o&&(e-o===2?r.push(o+1):e-o!==1&&r.push("...")),o=e,r.push(e),e})),r}(e.page,e.pages).map((function(t){return t===e.page?u.a.createElement("li",{className:N.a.active},t):"..."===t?u.a.createElement("li",{className:N.a.dot},t):u.a.createElement("li",{onClick:function(a){return e.onChangePage(a,t)}},t)})),a=null,n=null;return n=e.page<e.pages?u.a.createElement("li",{onClick:e.onNextPage},"\xbb"):u.a.createElement("li",{className:N.a.disable},"\xbb"),a=e.page>1?u.a.createElement("li",{onClick:e.onPrevPage},"\xab"):u.a.createElement("li",{className:N.a.disable},"\xab"),u.a.createElement("div",{className:N.a.center},u.a.createElement("ul",{className:N.a.pagination},a,t,n))},_=a(6),C=a(900),w=a(893),x=a(907),B=a(897),L=a(894),R=a(939),U=a(943),D=a(941),M=a(942),A=a(940),V=a(899),T=a(908),I=a(11),J=Object(f.a)((function(e){return{root:{},content:{padding:0},inner:{minWidth:700},nameCell:{display:"flex",alignItems:"center",textTransform:"capitalize"},avatar:{height:42,width:42,marginRight:e.spacing(1)},actions:{padding:e.spacing(1),justifyContent:"flex-end"},dangerButton:{marginRight:e.spacing(1),color:_.a.red[600],borderColor:_.a.red[600],"&:hover":{borderColor:_.a.red[900],color:_.a.red[900]}},primaryButton:{marginRight:e.spacing(1),color:_.a.blue[600],borderColor:_.a.blue[600],"&:hover":{borderColor:_.a.blue[900],color:_.a.blue[900]}},successButton:{marginRight:e.spacing(1),color:_.a.green[600],borderColor:_.a.green[600],"&:hover":{borderColor:_.a.green[900],color:_.a.green[900]}}}})),z=function(e){var t=e.className,a=e.count,n=e.page,r=e.pages,o=e.limit,l=e.brokerage,i=Object(p.a)(e,["className","count","page","pages","limit","brokerage"]),c=J(),m=Object(s.useState)([]),g=Object(E.a)(m,2),f=g[0],b=g[1],v={onUpdate:function(){e.onSelect("update",f[0])},onDelete:function(){e.onSelect("delete",f[0]),b([])}},y={update:u.a.createElement(C.a,{className:c.primaryButton,color:"primary",onClick:v.onUpdate,size:"small",type:"submit",variant:"outlined"},"Update"),delete:u.a.createElement(C.a,{className:c.dangerButton,color:"primary",onClick:v.onDelete,size:"small",type:"submit",variant:"outlined"},"Delete")},j=null;return 1===f.length&&(j=u.a.createElement(u.a.Fragment,null,y.update,y.delete)),u.a.createElement("div",Object.assign({},i,{className:Object(d.a)(c.root,t)}),u.a.createElement(h.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},a," Records found. Page ",e.page," of ",r),u.a.createElement(w.a,null,u.a.createElement(x.a,{action:j,title:"Brokerage List"}),u.a.createElement(B.a,null),u.a.createElement(L.a,{className:c.content},u.a.createElement(P.a,null,u.a.createElement("div",{className:c.inner},u.a.createElement(R.a,null,u.a.createElement(U.a,null,u.a.createElement(D.a,null,u.a.createElement(M.a,null,"Seller"),u.a.createElement(M.a,null,"Buyer"),u.a.createElement(M.a,null,"Buyer Vehicle"),u.a.createElement(M.a,null,"Service"),u.a.createElement(M.a,null,"Schedule"),u.a.createElement(M.a,null,"Job Location"),u.a.createElement(M.a,null,"Notes"))),u.a.createElement(A.a,null,l.map((function(e){return u.a.createElement(D.a,{hover:!0,key:e.id,selected:-1!==f.indexOf(e.id)},u.a.createElement(M.a,null,u.a.createElement("div",{className:c.nameCell},u.a.createElement("div",null,u.a.createElement(V.a,{color:"inherit",component:O.a,to:I.e.users.viewPath.replace(":id",e.buyer.userId),variant:"h6"},e.buyer.firstName," ",e.buyer.lastname),u.a.createElement("div",null,e.buyer.phoneNumber)))),u.a.createElement(M.a,null,e.hasOwnProperty("seller")&&u.a.createElement("div",{className:c.nameCell},u.a.createElement("div",null,u.a.createElement(V.a,{color:"inherit",component:O.a,to:I.e.users.viewPath.replace(":id",e.seller.userId),variant:"h6"},e.seller.firstName," ",e.seller.lastname),u.a.createElement("div",null,e.seller.phoneNumber)))),u.a.createElement(M.a,null,u.a.createElement("div",{className:c.nameCell},u.a.createElement("div",null,u.a.createElement(V.a,{color:"inherit",component:O.a,to:I.e.brokerage.view.get_absolute_url(e.id),variant:"h6"},e.buyerVehicle.make," ",e.buyerVehicle.category),u.a.createElement("div",null,e.buyerVehicle.color," ",e.buyerVehicle.number,","," ",e.buyerVehicle.year)))),u.a.createElement(M.a,null,e.service," Km"),u.a.createElement(M.a,null,e.schedule," Km"),u.a.createElement(M.a,null,u.a.createElement("div",null,"Lat: ",e.jobLocation.latitide),u.a.createElement("div",null,"Lng: ",e.jobLocation.longitude)),u.a.createElement(M.a,null,e.notes))}))))))),1!==r&&u.a.createElement(T.a,{className:c.actions},u.a.createElement(S,{count:a,limit:o,onChangePage:e.onPageChange,onNextPage:e.onNextChange,onPrevPage:e.onPrevChange,page:n,pages:r}))))};z.defaultProps={users:[]};var K=z,W=a(69),F=a(966),G=a(36),Z=a(983),$=function(e){function t(){var e,a;Object(r.a)(this,t);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={regions:null,page:0,offset:0,limit:10,pages:0,count:0},a.changePageUrl=function(e){var t=a.props.history,n=I.e.brokerage.listPage.get_absolute_url(e);t.push(n)},a.handlePageChange=function(e,t){var n=(t-1)*a.state.limit;a.setState({page:t,offset:n}),a.changePageUrl(t)},a.handleNextPage=function(){var e=a.state.page+1,t=(e-1)*a.state.limit;a.setState({page:e,offset:t}),a.changePageUrl(e)},a.handlePrevPage=function(){var e=a.state.page-1,t=(e-1)*a.state.limit;a.setState({page:e,offset:t}),a.changePageUrl(e)},a.handleMenuSelect=function(e,t){var n=a.props.history;"delete"===e?console.log("Deleted",t):"update"===e&&n.push(I.e.brokerage.update.get_absolute_url(t))},a.loading=function(){var e=[];e.push(u.a.createElement(F.a,{variant:"text",width:150}));var t=Array(a.state.limit).fill(1).map((function(e){return u.a.createElement(F.a,{height:50,variant:"text"})}));return[].concat(e,Object(n.a)(t))},a.results=function(){var e=a.props.classes;return a.state.brokerage?u.a.createElement("div",null,u.a.createElement(K,{brokerage:a.state.brokerage,className:e.results,count:a.state.count,limit:a.state.limit,onMenuClick:a.handleMenuClick,onNextChange:a.handleNextPage,onPageChange:a.handlePageChange,onPrevChange:a.handlePrevPage,onSelect:a.handleMenuSelect,page:a.state.page,pages:a.state.pages})):a.loading()},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.page,t=e?Number(e):1;if(t){var a=(t-1)*this.state.limit;this.setState({page:t,offset:a})}this.state.brokerage||1!==t||this.onRegionsList(this.state)}},{key:"componentWillUpdate",value:function(e,t){this.state.page!==t.page&&this.state.offset!==t.offset&&(console.log(t),this.onRegionsList(t))}},{key:"onRegionsList",value:function(e){var t=this;Z.a.getBrokerageList({state:e,setState:function(e){return t.setState(e)},headers:this.props.auth.headers})}},{key:"render",value:function(){var e=this.props.classes;return u.a.createElement(g.j,{className:e.root,title:"Brokerage List"},u.a.createElement(y,null),this.results())}}]),t}(s.PureComponent),q=Object(G.g)(Object(W.b)((function(e){return{auth:e.session.authentication}}))(Object(m.a)((function(e){return{root:{padding:e.spacing(3)},results:{marginTop:e.spacing(3)}}}))($)));a.d(t,"default",(function(){return q}))},955:function(e,t,a){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}a.d(t,"a",(function(){return n}))},956:function(e,t,a){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return(r="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function o(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}a.d(t,"a",(function(){return o}))},957:function(e,t,a){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}a.d(t,"a",(function(){return r}))},966:function(e,t,a){"use strict";var n=a(1),r=a(4),o=a(0),l=a.n(o),i=a(2),c=(a(7),a(8)),s=l.a.forwardRef((function(e,t){var a=e.classes,o=e.className,c=e.component,s=void 0===c?"div":c,u=e.disableAnimate,m=void 0!==u&&u,g=e.height,p=e.variant,d=void 0===p?"text":p,f=e.width,b=Object(r.a)(e,["classes","className","component","disableAnimate","height","variant","width"]);return l.a.createElement(s,Object(n.a)({ref:t,className:Object(i.a)(a.root,a[d],o,!m&&a.animate)},b,{style:Object(n.a)({width:f,height:g},b.style)}))}));t.a=Object(c.a)((function(e){return{root:{display:"block",backgroundColor:e.palette.action.hover,height:"1.2em"},text:{marginTop:"0.8em",marginBottom:"0.8em",borderRadius:e.shape.borderRadius},rect:{},circle:{borderRadius:"50%"},animate:{animation:"$animate 1.5s ease-in-out infinite"},"@keyframes animate":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}}}}),{name:"MuiSkeleton"})(s)},983:function(e,t,a){"use strict";var n=a(15),r=a(13),o=a(226),l=a(227),i=a(11);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,null,[{key:"getBrokerageList",value:function(e){console.log(e);var t=e.state,a=e.setState,r=e.headers;Promise.all([Object(i.b)({method:i.a.brokerage.count.method,url:i.a.brokerage.count.url,headers:r}),Object(i.b)({method:i.a.brokerage.get.method,url:i.a.brokerage.get.url,params:{offset:t.offset,limit:t.limit,skip:t.offset},headers:s({},r)})]).then((function(e){var r=Object(n.a)(e,2),o=r[0],l=r[1];a({count:o.data.count,brokerage:l.data,pages:Math.ceil(o.data.count/t.limit)}),console.log(o.data.count,l.data)})).catch((function(e){console.log(e.response)}))}},{key:"getBrokerage",value:function(e){var t=e.id,a=e.headers,n=e.success,r=e.error,o={method:i.a.brokerage.get_by_id.method,url:i.a.brokerage.get_by_id.getAbsoluteUrl(t),headers:a};Object(i.b)(o).then((function(e){console.log("Success",e.data),n(e.data)})).catch((function(e){r(e),console.log("Error",e.response,e)}))}}]),e}();a.d(t,"a",(function(){return u}))}}]);
//# sourceMappingURL=4.31aff936.chunk.js.map